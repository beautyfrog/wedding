#set($ctx=$request.contextPath)
<!DOCTYPE html>
<html>
<head>
<title>李斌&梁洁的婚礼弹弹Show</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description">
<link rel="stylesheet" href="css/raleway.css">
<link rel="stylesheet" href="css/vegas.min.css">
<link rel="stylesheet" href="css/styles.min.css">
<style type="text/css">
	@font-face { 
		font-family: fangzheng;
		src: url("$ctx/font/63lhS0cTiE.otf");
	} 
	.danmu {
		margin-top: 30px;
		padding: 0;
		width: 100%;
		height: 95%;
		z-index: 99998;
	}
</style>
<script type="text/javascript">
	var contextPath = "${ctx}/";
</script>
</head>
<body>
	<div clasomepage">
		<div class="topbar"></div>
		<div class="tweet-it"></div>
		<div class="homepage-header">
			<canvas id="canvas" class="danmu">你的浏览器不支持弹幕哦~</canvas>
			<div class="homepage-info">
				<h1>
					<span class="line1">wedding</span>
					<!--<span class="line2">♡</span>-->
					<span class="line3">李斌 & 梁洁</span> <span class="line4">2017.06.10</span>
				</h1>
				<p>
					<small class="banner"><a href="#">Every dream</a> that I
						have is about you </small>
				</p>
				<p>
					<small class="banner">When I look at your <a href="#"
						class="do-open-support">beautiful eyes</a>, I make a decision
					</small>
				</p>
				<p>
					<small class="banner">I will spend my whole life through
						falling more <a id="do-donate" href="#">in love</a> with you
					</small>
				</p>
			</div>
		</div>
		#*
		<div class="support">
			<div class="support-wrapper">
				<h3>Need support?</h3>
				<p>
					Don't waste your precious time, support is <strong>available
						for <span>24$</span>
					</strong>. Ask your question and quickly receive a ZIP file with a clear
					running example with commented code and assets solving your
					problem.
				</p>
				<a
					href="jay.salvat#gmail.com?subject=[vegas support] I'd like to hire you"
					class="button email">Ask for Support</a> <a href="#"
					class="support-close do-close-support">No, thanks.</a>
			</div>
		</div>
		*#
	</div>
	<script src="${ctx}/js/jquery.min.js"></script>
	<script src="${ctx}/js/jquery.barrager.js"></script>
	<script src="${ctx}/js/bar.js"></script>
	<script src="${ctx}/js/vegas.min.js"></script>
	<script src="${ctx}/js/app.min.js"></script>
</body>
<script type="text/javascript">
	$(function() {
		var websocket = new WebSocket("wss://${host}/danmusocket");
		websocket.onmessage = function(evt){
			$("#canvas").barrager([{
				"msg" : evt.data
			}]);
		}
		websocket.onopen = function() {
			setInterval(() => {
				websocket.send("");
			}, 10000);
		}
	});
</script>
</html>